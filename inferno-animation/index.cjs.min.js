"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("inferno");function e(t){return void 0===t||null===t}function n(t){return"function"===typeof t}function i(t){return"string"===typeof t}function r(t){return""!==t}function o(t){return t.split(" ").filter(r)}function a(t,e){if(i(e))for(var n=o(e),r=0;r<n.length;r++)t.classList.add(n[r])}function s(t,e){if(i(e))for(var n=o(e),r=0;r<n.length;r++)t.classList.remove(n[r])}function u(){return document.body.clientHeight}function p(t,e){var n=t.style.getPropertyValue("display");return n!==e&&(void 0!==e?t.style.setProperty("display",e):(t.style.removeProperty("display"),l(t))),n}function l(t){t.style||t.removeAttribute("style")}function f(t){var e=t.style.getPropertyValue("display"),n="none"===window.getComputedStyle(t).getPropertyValue("display");n&&t.style.setProperty("display","block");var i=t.getBoundingClientRect();return n&&(t.style.setProperty("display",e),l(t)),{height:i.height,width:i.width}}function c(t,e,n){t.style.width=e+"px",t.style.height=n+"px"}function d(t){t.style.width=t.style.height=""}function y(t){for(var e=0,n=0,i=0;i<t.length;i++){var r=t[i];if(!r)continue;var o=window.getComputedStyle(r),a=o.getPropertyValue("transition-duration").split(","),s=o.getPropertyValue("transition-delay").split(","),u=o.getPropertyValue("transition-property").split(",");for(var p in u){var l=p.trim();if("-"===l[0]){var f=l.split("-").splice(2).join("-");l.indexOf(f)>=0&&e--}}for(var c=0,d=0;d<a.length;d++){var y=a[d],v=s[d];c+=parseFloat(y)+parseFloat(v)}e+=a.length,c>n&&(n=c)}return{maxDuration:n,nrofTransitions:e}}var v=function(){var t=document.createElement("div").style,e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in e)if(void 0!==t[n])return e[n]}();function m(t,e,n){"IMG"!==e.nodeName||e.complete?setTimeout((function(){return t({target:e,timeout:!0})}),Math.round(1e3*n)+100):e.addEventListener("load",(function(){setTimeout((function(){return t({target:e,timeout:!0})}),Math.round(1e3*n)+100)}))}function h(t,e){var i=t[0],r=y(t),o=r.maxDuration,a=r.nrofTransitions,s=!1,u=function(r){if(!r||s)return;if(!r.timeout){for(var o=!1,p=0;p<t.length;p++)if(void 0!==t[p]&&r.target===t[p]){o=!0;break}if(!o)return;if(--a>0)return}s=!0,i.removeEventListener(v,u,!1),n(e)&&e()};i.addEventListener(v,u,!1),m(u,i,o)}function g(t,n){var i;if(e(t)||"object"!==typeof t){var r=t||"inferno-animation";i={active:""+r+n+"-active",end:""+r+n+"-end",start:""+r+n}}else i=t;return i}function w(t,e){var n=g(e.animation,"-enter"),i=n.start,r=n.end,o=n.active,p=f(t),l=p.width,y=p.height;a(t,i),u(),a(t,o),h([t],(function(){d(t),s(t,o),s(t,r)})),requestAnimationFrame((function(){c(t,l,y),s(t,i),a(t,r)}))}function P(t,e,n){var i=g(e.animation,"-leave"),r=i.start,o=i.end,u=i.active,p=f(t),l=p.width,y=p.height;c(t,l,y),a(t,r),a(t,u),h([t],(function(){n()})),requestAnimationFrame((function(){a(t,o),s(t,r),d(t)}))}var x=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidAppear=function(t){w(t,this.props)},e.prototype.componentWillDisappear=function(t,e){P(t,this.props,e)},e}(t.Component),D={addClassName:a,clearDimensions:d,forceReflow:u,getDimensions:f,registerTransitionListener:h,removeClassName:s,setDimensions:c,setDisplay:p};exports.AnimatedComponent=x,exports.componentDidAppear=w,exports.componentWillDisappear=P,exports.utils=D;
